<div id="dropzone">
	<md-card>
		<md-card-content id="groupbox">
			<div layout="row" layout-align="spread-apart center">
				<h1>{{groupService.selectedGroup.name}}</h1>
				<span flex></span>
				<!-- edit delete mode -->
				<!-- ADD BACK IN ng-hide="!isOwner()"  -->
        <ng-md-icon icon="mode_edit" class="delete-group" size="18" ng-show="!editMode" ng-click="editMode = !editMode"></ng-md-icon>
        <ng-md-icon icon="done" class="delete-group" size="18" ng-show="editMode" ng-click="editMode = !editMode"></ng-md-icon>
        <ng-md-icon icon="delete" size="18" class="delete-group" ng-show="editMode" ng-click="showDeleteGroup($event)" aria-label="Delete group {{groupService.selectedGroup.name}}"></ng-md-icon>
      </div>

			<md-card>
			<div class="groupTabs">
				<md-tabs class="" md-selected="tabData.selectedIndex">
				  <md-tab class="" id="tab1" aria-controls="tab1-content">
				    Info
				  </md-tab>
				  <md-tab id="tab2" aria-controls="tab2-content">
				    Contributors
				  </md-tab>
				  <md-tab id="tab3" aria-controls="tab3-content">
				    Followers
				  </md-tab>
				</md-tabs>
				<ng-switch on="tabData.selectedIndex" class="tabpanel-container">
				  <!-- information tab -->
				  <div role="tabpanel"
				       id="tab1-content"
				       aria-labelledby="tab1"
				       ng-switch-when="0"
				       md-swipe-left="next()"
				       md-swipe-right="previous()" >
				      <h2>Created by {{groupService.selectedGroup.owner_name}}</h2>
				      <p ng-show="groupService.selectedGroup.tracks.length === 1"> 1 Track</p>
				      <p ng-show="groupService.selectedGroup.tracks.length !== 1">{{groupService.selectedGroup.tracks.length}} Tracks</p>
				      <p ng-show="groupService.selectedGroup.contributors.length === 1"> 1 Contributor</p>
				      <p ng-show="groupService.selectedGroup.contributors.length !== 1">{{groupService.selectedGroup.contributors.length}} Contributors</p>
				      <p ng-show="groupService.selectedGroup.followers.length === 1"> 1 Follower</p>
				      <p ng-show="groupService.selectedGroup.followers.length !== 1">{{groupService.selectedGroup.followers.length}} Followers</p>
				  </div>

				  <!-- contributors tab -->
				  <div role="tabpanel"
				       id="tab2-content"
				       aria-labelledby="tab2"
				       ng-switch-when="1"
				       md-swipe-left="next()"
				       md-swipe-right="previous()" >

				    <div style="min-height: 150px" class="autocomplete" layout="row" layout-margin>
				      <div flex="80" layout="column">
				    	  <md-autocomplete
				    	      ng-disabled="autocompleteUsers.isDisabled"
				    	      md-no-cache="autocompleteUsers.noCache"
				    	      md-selected-item="autocompleteUsers.selectedItem"
				    	      md-search-text="autocompleteUsers.searchText"
				    	      md-items="item in autocompleteUsers.querySearch(autocompleteUsers.searchText)"
				    	      md-item-text="item.name"
				    	      placeholder="Select from current DJ-LEVels users">
				    	    <span md-highlight-text="autocompleteUsers.searchText">{{item.name}} ({{item.email}})</span>
				    	  </md-autocomplete>
				      </div>
				    	<!-- <br/> -->
				    	<div  flex="20">
				    		<md-button type="submit" class="md-raised" ng-disabled="true" ng-show="autocompleteUsers.selectedItem === null || autocompleteUsers.selectedItem === ''">
				    		Add Contributor
				    		</md-button>
				    		<md-button type="submit" class="md-raised" ng-hide="autocompleteUsers.selectedItem.name === '' || autocompleteUsers.selectedItem === null || autocompleteUsers.searchText === ''" ng-click="groupService.addUser('contributors', autocompleteUsers.selectedItem); $mdAutocompleteCtrl.clear()">
				    		Add {{autocompleteUsers.selectedItem.name}}
				    		</md-button>
				    	</div>
				    </div>
				  	<h3 ng-show="groupService.selectedGroup.contributors.length === 1">There is 1 contributor who can add and remove songs from {{groupService.selectedGroup.name}}.</h3>
				  	<h3 ng-show="groupService.selectedGroup.contributors.length !== 1">There are {{groupService.selectedGroup.contributors.length}} contributors who can add and remove songs from {{groupService.selectedGroup.name}}.</h3>
				  	<div layout="row" layout-wrap>
							<div class="member-tab-box" ng-repeat="contributor in groupService.selectedGroup.contributors" flex="5">
								<md-button class="md-fab" aria-label="{{contributor.user_name}}">
									<md-tooltip>{{contributor.user_name}}</md-tooltip>
								</md-button>
							</div>
						</div>

				  </div>

					<!-- followers tab -->
				  <div role="tabpanel"
				       id="tab3-content"
				       aria-labelledby="tab3"
				       ng-switch-when="2"
				       md-swipe-left="next()"
				       md-swipe-right="previous()" >
				      View for Item #3<br/>
				      tabData.selectedIndex = 2
				  </div>
				</ng-switch>
			</div>
		</md-card-content>
		</md-card>
	</md-card>
	<md-card ng-repeat="track in groupService.selectedGroup.tracks | orderBy : groupService.getTrackScore : true">
	  <img src="{{track.image_url}}" alt="Song title">
	  <md-card-content>
			<div layout="row" layout-align="space-around center" layout-wrap>
			  <div flex="10">
			    <div layout="column" layout-align="center center">
			    	<ng-md-icon icon="arrow_drop_up" class="vote" size="48" ng-click="groupService.voteTrack('up', track)" aria-label="Upvote track" style="fill: {{upColor(track)}}"></ng-md-icon>
			    	<h2 class="vote">{{ groupService.getTrackScore(track) }}</h2>
			    	<ng-md-icon icon="arrow_drop_down" class="vote" size="48" ng-click="groupService.voteTrack('down', track)" aria-label="Downvote track" style="fill: {{downColor(track)}}"></ng-md-icon>
			    </div>
			  </div>
			  <div flex="80">
			    <h2>{{track.title}}</h2>
			    <p>{{track.artist}}</p>
			    <p>Submitted by: {{track.submitted_by_name}}</p>
			  </div>
			  <div flex="10">
			  	<ng-md-icon icon="play_arrow" size="48" ng-click="playerService.playTrack(track)" aria-label="Play {{ track.title }}"></ng-md-icon>
			  </div>
			</div>
	  </md-card-content>
	</md-card>
	<!-- drag show overlay-->
	<div id="overlayBox" class="visuallyhidden overlay"> 
		<div id="dropHereWrapper" layout="column" layout-align="center center" layout-margin>
			<md-button id="dropHere" class="md-fab pulse2"  aria-label="Drop a SoundCloud URL here">
				<ng-md-icon icon="insert_drive_file" size="200" style="fill:white"></ng-md-icon>
				<div>
					Drag and drop a SoundCloud song
					<br />here to add it to {{groupService.selectedGroup.name}}!
					<br />
				</div>
			</md-button>
		</div>
	</div>
</div>